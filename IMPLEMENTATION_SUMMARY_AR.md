# ุดุฑุญ ุงูุชุบููุฑุงุช ูุงูุชุญุฏูุซุงุช ๐

## ๐ฏ ุงููุฏู ุงูุฑุฆูุณู

ุนูุฏ ูุชุญ ุงูุชุทุจูู ูุฃูู ูุฑุฉ:
1. โ ูุฏุฎู ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ ูุจุงุดุฑุฉ ุนูู ุดุงุดุฉ **ุงูุชุณุฌูู** (Register)
2. โ ูุฏุฎู ุจูุงูุงุช ุจุณูุทุฉ: **ุงูุงุณู ูุงูุจุฑูุฏ**
3. โ ุจุนุฏ ุงูุชุณุฌูู ูุฑู ุฑุณุงูุฉ: **"ุชู ุงูุชุณุฌูู ุจูุฌุงุญ"**
4. โ ูุชู ุนุฑุถ ุจูุงูุงุช ุงููุณุชุฎุฏู (ุงูุงุณู ูุงูุจุฑูุฏ) ูู Dialog ุฌููู
5. โ ุซู ููุชูู ูุดุงุดุฉ **ุงูุฏุฎูู** (Login)
6. โ ุงูุจูุงูุงุช ุชูุญูุธ ูู ูุงุนุฏุฉ ุจูุงูุงุช **Firebase Firestore**

---

## ๐ง ุงูุชุญุฏูุซุงุช ุงูููููุฐุฉ

### 1๏ธโฃ ุฅุถุงูุฉ Firebase ๐ฅ
**ุงูููู**: `pubspec.yaml`

```yaml
dependencies:
  firebase_core: ^2.24.2        # โ ุฅุทุงุฑ Firebase
  firebase_auth: ^4.15.3        # โ ูุตุงุฏูุฉ ุขููุฉ
  cloud_firestore: ^4.14.0      # โ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```

**ุงููุงุฆุฏุฉ**: 
- โ ูุตุงุฏูุฉ ุขููุฉ ูููุณุชุฎุฏููู
- โ ุญูุธ ุงูุจูุงูุงุช ุนูู ุงูุณุญุงุจุฉ
- โ ุณูููุฉ ุงูุชูุณุน ูู ุงููุณุชูุจู

---

### 2๏ธโฃ ุชุญุฏูุซ User Model ๐ค
**ุงูููู**: `lib/features/auth/data/models/user_model.dart`

```dart
class User extends Equatable {
  final String id;          // Firebase UID
  final String firstName;   // ุงูุงุณู ุงูุฃูู
  final String lastName;    // ุงูุงุณู ุงูุฃุฎูุฑ
  final String email;       // ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  final String password;    // ูููุฉ ุงูุณุฑ
  final DateTime createdAt; // โ ุฌุฏูุฏ: ุชุงุฑูุฎ ุงูุฅูุดุงุก
  
  // โ ุชุญููู ููู JSON
  Map<String, dynamic> toJson() { ... }
  
  // โ ูุฑุงุกุฉ ูู JSON
  factory User.fromJson(Map<String, dynamic> json) { ... }
}
```

**ุงูุชุบููุฑุงุช**:
- โ ุฅุถุงูุฉ `createdAt` ูุชุชุจุน ูุชู ุชู ุฅูุดุงุก ุงูุญุณุงุจ
- โ ุฅุถุงูุฉ `Equatable` ูููุงุฑูุฉ ุงููุณุชุฎุฏููู ุจุณูููุฉ
- โ ุชุญุฏูุซ `toJson()` ู `fromJson()` ููุนูู ูุน ุงูุญูู ุงูุฌุฏูุฏ

---

### 3๏ธโฃ ุชุญุฏูุซ Repository ๐
**ุงูููู**: `lib/features/auth/data/repositories/auth_repository_impl.dart`

#### ูุจู: ุงุณุชุฎุฏุงู SharedPreferences ููุท โ
```dart
// ุญูุธ ูุญูู ููุท
_users.add(newUser);
await _saveUsers();
```

#### ุจุนุฏ: ุงุณุชุฎุฏุงู Firebase โ
```dart
// 1. ุญูุธ ูู Firebase Auth (ูููุตุงุฏูุฉ)
final userCredential = await _firebaseAuth.createUserWithEmailAndPassword(
  email: email,
  password: password,
);

// 2. ุญูุธ ุงูุจูุงูุงุช ูู Firestore (ูุงุนุฏุฉ ุงูุจูุงูุงุช)
await _firestore.collection('users').doc(newUser.id).set(
  newUser.toJson(),
);

// 3. ุญูุธ ูุญูู ุฃูุถุงู (ููุนูู ุจุฏูู ุงูุชุฑูุช)
_users.add(newUser);
await _saveUsers();
```

#### ุงูููุงุฆุฏ:
- โ ุจูุงูุงุช ุขููุฉ ุนูู ุงูุณุญุงุจุฉ
- โ ูููู ุงููุตูู ูู ุฃู ุฌูุงุฒ
- โ ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ
- โ ูุนูู ุจุฏูู ุงูุชุฑูุช (ูู ุงููุณุฎุฉ ุงููุญููุฉ)

---

### 4๏ธโฃ ุชุญุฏูุซ ุดุงุดุฉ ุงูุชุณุฌูู ๐
**ุงูููู**: `lib/features/auth/presentation/screens/register_screen.dart`

#### ูุจู: ุฑุณุงูุฉ ุจุณูุทุฉ โ
```dart
ScaffoldMessenger.of(context).showSnackBar(
  const SnackBar(
    content: Text('ุชู ุงูุชุณุฌูู ุจูุฌุงุญ'),
    backgroundColor: Colors.green,
  ),
);
```

#### ุจุนุฏ: Dialog ุฌููู ูุน ุงูุจูุงูุงุช โ
```dart
showDialog(
  context: context,
  barrierDismissible: false,
  builder: (context) => AlertDialog(
    title: const Text('โ ุชู ุงูุชุณุฌูู ุจูุฌุงุญ'),
    content: Column(
      children: [
        Text('ูุฑุญุจุงู ${state.user.fullName}'),
        Text('ุงูุจุฑูุฏ: ${state.user.email}'),
        Text('ุงูุฑุฌุงุก ุชุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจู ุงูุฌุฏูุฏ'),
      ],
    ),
    actions: [
      ElevatedButton(
        onPressed: () {
          // ุงูุงูุชูุงู ูุดุงุดุฉ ุงูููุฌูู
          Navigator.of(context).popUntil((route) => route.isFirst);
        },
        child: const Text('ุงุฐูุจ ููุฏุฎูู'),
      ),
    ],
  ),
);
```

#### ุงูููุงุฆุฏ:
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู
- โ ุนุฑุถ ุจูุงูุงุช ุงููุณุชุฎุฏู
- โ ุชูุฌูู ูุงุถุญ ูุฎุทูุฉ ุงูุชุณุฌูู ุงูุฏุฎูู
- โ ุชุฃููุฏ ุงููุฌุงุญ

---

### 5๏ธโฃ ุชุญุฏูุซ main.dart ๐
**ุงูููู**: `lib/main.dart`

```dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // โ ุชููุฆุฉ Firebase
  await Firebase.initializeApp(
    options: DefaultFirebaseOptions.currentPlatform,
  );
  
  // ุชููุฆุฉ Repository
  final authRepository = AuthRepositoryImpl();
  await Future.delayed(const Duration(milliseconds: 500));

  runApp(MyApp(authRepository: authRepository));
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      // โ ุงูุดุงุดุฉ ุงูุฃููู ูููุณุชุฎุฏู ุงูุฌุฏูุฏ: ุงูุชุณุฌูู
      home: const RegisterScreen(),
      routes: {
        '/login': (context) => const LoginScreen(),
        '/home': (context) => const TodoScreen(),
      },
    );
  }
}
```

#### ุงูุชุบููุฑุงุช:
- โ ุชููุฆุฉ Firebase ูู ุงูุจุฏุงูุฉ
- โ ุดุงุดุฉ ุงูุจุฏุงูุฉ = RegisterScreen (ุจุฏู LoginScreen)
- โ ุฅุถุงูุฉ route ููู Login

---

### 6๏ธโฃ firebase_options.dart ๐
**ุงูููู**: `lib/firebase_options.dart`

```dart
class DefaultFirebaseOptions {
  static const FirebaseOptions android = FirebaseOptions(
    apiKey: 'YOUR_API_KEY',              // โ ุณุชูุนุฏู ูู Firebase Console
    appId: 'YOUR_APP_ID',                // โ ุณุชูุนุฏู ูู Firebase Console
    messagingSenderId: 'YOUR_SENDER_ID', // โ ุณุชูุนุฏู ูู Firebase Console
    projectId: 'your-project-id',        // โ ุณุชูุนุฏู ูู Firebase Console
    storageBucket: 'your-project.appspot.com',
  );
}
```

**ุงููุงุฆุฏุฉ**:
- โ ุชุฎุฒูู ุขูู ูุฅุนุฏุงุฏุงุช Firebase
- โ ุณูููุฉ ุชุจุฏูู ุงูุฅุนุฏุงุฏุงุช
- โ ุฏุนู ุนุฏุฉ ููุตุงุช

---

## ๐ ุชุฏูู ุงูุจูุงูุงุช ุงููุงูู

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ      ุงูุชุทุจูู ูุจุฏุฃ                      โ
โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
             โ
             โ
     โโโโโโโโโโโโโโโโโโโโ
     โ RegisterScreen   โ
     โ (ุดุงุดุฉ ุงูุชุณุฌูู)  โ
     โโโโโโโโโโฌโโโโโโโโโโ
              โ
              โ
    โโโโโโโโโโโโโโโโโโโโโโโ
    โ ุฃุฏุฎู ุงูุจูุงูุงุช:      โ
    โ - ุงูุงุณู ุงูุฃูู      โ
    โ - ุงูุงุณู ุงูุฃุฎูุฑ     โ
    โ - ุงูุจุฑูุฏ           โ
    โ - ูููุฉ ุงูุณุฑ        โ
    โโโโโโโโโโโฌโโโโโโโโโโโโ
              โ
              โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ BlocListener (ุงุณุชูุน)     โ
    โ RegisterEvent (ุฃุฑุณู)    โ
    โโโโโโโโโโโฌโโโโโโโโโโโโโโโโโ
              โ
              โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ AuthBloc (ููุทู)          โ
    โ _onRegisterEvent()      โ
    โโโโโโโโโโโฌโโโโโโโโโโโโโโโโโ
              โ
              โ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ AuthRepository           โ
    โ register()              โ
    โโโโโโโโโโโฌโโโโโโโโโโโโโโโโโ
              โ
              โโโ Firebase Auth (ุงูุชุญูู)
              โ
              โโโ Firestore (ุญูุธ ุงูุจูุงูุงุช)
              โ
              โโโ SharedPreferences (ูุณุฎุฉ ูุญููุฉ)
                    โ
                    โ
         โโโโโโโโโโโโโโโโโโโโโโ
         โ Emit Success State  โ
         โ ูุน ุจูุงูุงุช ุงููุณุชุฎุฏู  โ
         โโโโโโโโโโฌโโโโโโโโโโโโ
                  โ
                  โ
         โโโโโโโโโโโโโโโโโโโโโโ
         โ Dialog ุงููุฌุงุญ       โ
         โ + ุนุฑุถ ุงูุจูุงูุงุช      โ
         โ + ุฒุฑ "ุงุฐูุจ ููุฏุฎูู" โ
         โโโโโโโโโโฌโโโโโโโโโโโโ
                  โ
                  โ
         โโโโโโโโโโโโโโโโโโโโโโ
         โ LoginScreen        โ
         โ (ุดุงุดุฉ ุงูุฏุฎูู)     โ
         โโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช Firestore

### Collection Structure:
```
firestore/
โโโ users/ (Collection)
โ   โโโ uid_1 (Document)
โ   โ   โโโ id: "uid_1"
โ   โ   โโโ firstName: "ุฃุญูุฏ"
โ   โ   โโโ lastName: "ูุญูุฏ"
โ   โ   โโโ email: "ahmed@example.com"
โ   โ   โโโ password: "hashed_password"
โ   โ   โโโ createdAt: 2024-01-20T10:30:00.000Z
โ   โ
โ   โโโ uid_2 (Document)
โ   โ   โโโ id: "uid_2"
โ   โ   โโโ firstName: "ูุงุทูุฉ"
โ   โ   โโโ lastName: "ุนูู"
โ   โ   โโโ email: "fatima@example.com"
โ   โ   โโโ password: "hashed_password"
โ   โ   โโโ createdAt: 2024-01-20T11:45:00.000Z
โ   โ
โ   โโโ ...
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู

ุนูุฏ ุชุดุบูู ุงูุชุทุจููุ ุชุญูู ูู:

- [ ] ุงูุชุทุจูู ููุชุญ ูุจุงุดุฑุฉ ุดุงุดุฉ ุงูุชุณุฌูู (RegisterScreen)
- [ ] ูููู ุฅุฏุฎุงู ุงูุจูุงูุงุช (ุงุณู + ุจุฑูุฏ + ูููุฉ ุณุฑ)
- [ ] ุจุนุฏ ุงูุชุณุฌููุ ูุธูุฑ Dialog ูุฌุงุญ
- [ ] Dialog ูุนุฑุถ ุงูุงุณู ูุงูุจุฑูุฏ ุจุดูู ุตุญูุญ
- [ ] ุนูุฏ ุงูููุฑ ุนูู "ุงุฐูุจ ููุฏุฎูู"ุ ููุชูู ููู Login
- [ ] ูููู ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ
- [ ] ุงูุจูุงูุงุช ุชุธูุฑ ูู Firestore Console
- [ ] ุงูุชุทุจูู ูุนูู ุจุฏูู ุฃุฎุทุงุก

---

## ๐จ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

ุงูุชุทุจูู ูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุงูุชุงููุฉ:

| ุงูุฎุทุฃ | ุงูุฑุณุงูุฉ |
|------|--------|
| ุจุฑูุฏ ููุฌูุฏ | "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุณุฌู ุจุงููุนู" |
| ูููุฉ ุณุฑ ุถุนููุฉ | "ูููุฉ ุงูุณุฑ ุถุนููุฉ ุฌุฏุงู" |
| ุจุฑูุฏ ุบูุฑ ุตุญูุญ | "ุฃุฏุฎู ุจุฑูุฏ ุฅููุชุฑููู ุตุญูุญ" |
| ุญูู ูุงุฑุบ | "[ุงูุญูู] ูุทููุจ" |
| ุฎุทุฃ Firebase | "ุฎุทุฃ ูู ุงูุชุณุฌูู: [ุชูุงุตูู ุงูุฎุทุฃ]" |

---

## ๐ ููุฎุต ุงููุฒุงูุง

โ **ุณูููุฉ ุงูุงุณุชุฎุฏุงู**: ูุงุฌูุฉ ุจุณูุทุฉ ููุงุถุญุฉ
โ **ุฃูุงู ุนุงูู**: Firebase Auth ูุชุนุงูู ูุน ุงูุฃูุงู
โ **ูุงุจููุฉ ุงูุชูุณุน**: ูููู ุฅุถุงูุฉ ููุฒุงุช ุจุณูููุฉ
โ **ุชุฌุฑุจุฉ ุฌูุฏุฉ**: ุฑุณุงุฆู ูุงุถุญุฉ ู Dialogs ุฌูููุฉ
โ **ุจูุงูุงุช ููุซููุฉ**: ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ
โ **ุนูู ุจูุง ุงูุชุฑูุช**: SharedPreferences ููุณุฎุฉ ูุญููุฉ

---

## ๐ ุงููุณุงุนุฏุฉ ูุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. **ุฎุทุฃ Firebase**: ุชุญูู ูู firebase_options.dart
2. **ุฎุทุฃ ูู ุงูุจูุงุก**: ุดุบู `flutter clean` ุซู `flutter pub get`
3. **ูุดุงูู ุงูุงูุชุฑูุช**: ุชุฃูุฏ ูู ุงูุงุชุตุงู ุจู Firebase
4. **ูุดุงูู ูู ุงูู Build**: ุญุฏูุซ gradle ูAndroid SDK

